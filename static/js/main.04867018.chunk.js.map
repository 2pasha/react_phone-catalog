{"version":3,"sources":["components/Logo/Logo.tsx","components/Button/Button.tsx","components/Footer/Footer.tsx","components/NavLinkMain/NavLink.tsx","components/Navbar/NavBar.tsx","context/CartContext.tsx","context/FavouriteContext.tsx","helpers/getSearchWith.ts","components/Search/Search.tsx","helpers/debounceQuery.ts","helpers/isSearchVisible.ts","components/Header/Header.tsx","App.tsx","components/Loader/Loader.tsx","helpers/calculateDiscount.ts","helpers/makeCharacteristicFormated.ts","components/ProductCard/ProductCard.tsx","components/ProductSlider/ProductSlider.tsx","types/Categoty.ts","helpers/getProductCount.ts","components/Carousel/Carousel.tsx","features/API/apiSlice.ts","context/ProductContext.tsx","pages/HomePage/HomePage.tsx","types/SortBy.ts","types/SearchParamsTypes.ts","components/Filters/Filters.tsx","components/Pagination/Pagination.tsx","helpers/normalizeValue.ts","components/NoSearchResult/NoSearchResult.tsx","components/ProductList/ProductList.tsx","components/Breadcrumb/Breadcrumb.tsx","pages/PhonePage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","components/BackButton/BackButton.tsx","pages/ProductDetailPage/ProductDetailPage.tsx","pages/CartPage/CartPage.tsx","pages/FavouritesPage/FavouritesPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","routes/AppRoute.tsx","index.tsx"],"names":["Logo","useLocation","pathname","type","className","onClick","window","scrollTo","alt","src","to","Button","content","variant","arrowDirection","card","favourite","props","cn","Footer","href","target","rel","htmlFor","id","NavLinkMain","children","isActive","NavBar","isCartOpened","CartContext","createContext","cartItems","setCartItems","totalSum","totalQuantity","CartProvider","useState","forEach","item","product","price","quantity","useEffect","savedCartItems","localStorage","getItem","JSON","parse","removeItem","Provider","value","FavouriteContext","favourites","setFavourites","FavouriteProvider","savedFavourites","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","key","delete","Array","isArray","part","append","set","Search","useSearchParams","searchParams","setSearchParams","queryParams","get","query","setQuery","location","currentPath","useMemo","split","applyQuery","useCallback","callBack","delay","timerId","args","clearTimeout","setTimeout","debounceQuery","placeholder","onChange","event","params","trim","isSearchVisible","crumbs","length","some","page","includes","Header","useContext","App","Loader","calculateDiscount","discount","makeCharFormated","char","numericPart","match","unitPart","ProductCard","imageUrl","name","screen","capacity","ram","isItemInCart","isItemInFavourites","productPath","priceWithDiscount","undefined","newCartItems","filter","setItem","stringify","newFavourites","ProductSlider","products","title","carouselWidth","itemsScrolled","setItemScrolled","scrolledWidth","slide","disabled","style","width","transform","map","defaultProps","Category","getProductCount","productType","reduce","acc","curr","Carousel","imagesScrolled","setImagesScrolled","handleSlideRight","images","interval","setInterval","clearInterval","index","classNames","BASE_URL","ProductContext","isLoading","ProductProvider","setProducts","setIsLoading","fetch","then","response","json","finally","HomePage","hotPriceProducts","sort","a","b","brandNewProducts","phonesCount","tabletsCount","accessoriesCount","SortBy","SearchParamsType","perPageValues","Filters","sortBy","Age","perPage","prevSearchParams","activePage","Name","Price","Pagination","totalItems","currentPage","Number","pageCount","from","numbers","n","push","getNumbers","Math","ceil","setParam","String","active","setPageHandler","normalizeValue","toLowerCase","NoSearchResult","ProductList","isfilterVisible","isPaginationVisible","getNumberOfPerPage","numberOfPage","startIndex","endIndex","filteredProducts","visibleProducts","age","localeCompare","slice","Breadcrumb","crumb","isLast","PhonesPage","phones","Phones","TabletsPage","tablets","Tablets","AccessoriesPage","accessories","Accessories","BackButton","navigate","useNavigate","ProductDetailPage","hasError","setHasError","productId","useParams","find","productDetails","setProductDetails","activeImage","setActiveImage","hasProductDetails","values","display","storage","description","connectivity","camera","android","getProductDetails","data","catch","url","newCartItem","screenResolution","screenSize","flash","bluetooth","primary","features","join","os","count","generateIndex","floor","random","result","i","getSuggestedProducts","CartPage","changeQuantity","action","cartItem","splice","isCheckoutClicked","setIsCheckoutClicked","deleteItem","FavouritePage","NotFoundPage","Root","path","element","replace","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04867018.chunk.js","sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport './Logo.scss';\n\nexport const Logo = () => {\n  const isHomePage = useLocation().pathname === '/';\n\n  return isHomePage ? (\n    <button\n      type=\"button\"\n      className=\"Logo\"\n      onClick={() => window.scrollTo(0, 0)}\n    >\n      <img\n        alt=\"logo\"\n        src=\"icons/logo.svg\"\n      />\n    </button>\n  ) : (\n    <Link\n      to=\"/home\"\n      className=\"Logo\"\n      onClick={() => window.scrollTo(0, 0)}\n    >\n      <img\n        alt=\"logo\"\n        src=\"icons/logo.svg\"\n      />\n    </Link>\n  );\n};\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport cn from 'classnames';\nimport './Button.scss';\n\ntype Props = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  variant?: 'arrow' | 'cart' | 'favourite' | 'number' | 'plus' | 'minus';\n  arrowDirection?: 'top' | 'left';\n  card?: 'added';\n  favourite?: 'added';\n};\n\nexport const Button: React.FC<Props> = ({\n  className = '',\n  variant: content,\n  arrowDirection,\n  card,\n  favourite,\n  ...props\n}) => {\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        'Button',\n        { [className]: className },\n        { [`Button--${content}`]: content },\n        { [`Button--arrow-${arrowDirection}`]: arrowDirection },\n        { [`Button--cart-${card}`]: card },\n        { [`Button--favourite-${favourite}`]: favourite },\n      )}\n      {...props}\n    />\n  );\n};\n","import './Footer.scss';\nimport { Logo } from '../Logo/Logo';\nimport { Button } from '../Button/Button';\n\nexport const Footer = () => {\n  return (\n    <footer className=\"Footer\">\n      <div className=\"Footer__content container container--main\">\n        <Logo />\n\n        <ul className=\"Footer__list\">\n          <li className=\"Footer__list-item\">\n            <a\n              href=\"https://github.com/2pasha\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Github\n            </a>\n          </li>\n\n          <li className=\"Footer__list-item\">\n            <a\n              href=\"https://www.linkedin.com/in/pavlo-kostyshyn-5871b8196/\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              contacts\n            </a>\n          </li>\n\n          <li className=\"Footer__list-item\">\n            <a href=\"#/\">\n              rights\n            </a>\n          </li>\n        </ul>\n\n        <div className=\"Footer__anchor\">\n          <label\n            htmlFor=\"scrollToTop\"\n            className=\"Footer__anchor--text\"\n          >\n            Back to top\n          </label>\n\n          <Button\n            id=\"scrollToTop\"\n            variant=\"arrow\"\n            arrowDirection=\"top\"\n            aria-label=\"scroll to the top\"\n            onClick={() => window.scrollTo(0, 0)}\n          />\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { NavLink, NavLinkProps } from 'react-router-dom';\nimport './NavLink.scss';\n\ntype Props = NavLinkProps & {\n  type: 'text' | 'cart' | 'favourite';\n};\n\nexport const NavLinkMain: React.FC<Props> = ({\n  type,\n  children,\n  ...props\n}) => {\n  return (\n    <NavLink\n      className={({ isActive }) => cn(\n        'NavLinkMain',\n        { 'is-active': isActive },\n        { [`NavLinkMain--${type}`]: type },\n      )}\n      {...props}\n    >\n      {children}\n    </NavLink>\n  );\n};\n","import React from 'react';\nimport { Logo } from '../Logo/Logo';\nimport { NavLinkMain } from '../NavLinkMain/NavLink';\nimport './NavBar.scss';\n\ntype Props = {\n  isCartOpened: boolean;\n};\n\nexport const NavBar: React.FC<Props> = ({ isCartOpened }) => {\n  return (\n    <nav className=\"Navbar\">\n      <ul className=\"Navbar__list\">\n        <li className=\"Navbar__item Navbar__item--logo\">\n          <Logo />\n        </li>\n        {!isCartOpened && (\n          <>\n            <li className=\"Navbar__item\">\n              <NavLinkMain\n                type=\"text\"\n                to=\"/\"\n              >\n                Home\n              </NavLinkMain>\n            </li>\n            <li className=\"Navbar__item\">\n              <NavLinkMain\n                type=\"text\"\n                to=\"phones\"\n              >\n                Phones\n              </NavLinkMain>\n            </li>\n            <li className=\"Navbar__item\">\n              <NavLinkMain\n                type=\"text\"\n                to=\"tablets\"\n              >\n                Tablets\n              </NavLinkMain>\n            </li>\n            <li className=\"Navbar__item\">\n              <NavLinkMain\n                type=\"text\"\n                to=\"accessories\"\n              >\n                Accessories\n              </NavLinkMain>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n};\n","import React, { createContext, useEffect, useState } from 'react';\nimport { CartItem } from '../types/CartItem';\n\ntype CartContextType = {\n  cartItems: CartItem[],\n  setCartItems: (cartItems: CartItem[]) => void,\n  totalSum: number,\n  totalQuantity: number,\n};\n\nexport const CartContext = createContext<CartContextType>({\n  cartItems: [],\n  setCartItems: () => {},\n  totalSum: 0,\n  totalQuantity: 0,\n});\n\ntype Props = {\n  children: React.ReactNode,\n};\n\nexport const CartProvider: React.FC<Props> = ({ children }) => {\n  const [cartItems, setCartItems] = useState<CartItem[]>([]);\n  let totalSum = 0;\n  let totalQuantity = 0;\n\n  cartItems.forEach(item => {\n    totalSum += item.product.price * item.quantity;\n    totalQuantity += item.quantity;\n  });\n\n  useEffect(() => {\n    const savedCartItems = localStorage.getItem('cartItems');\n\n    if (savedCartItems) {\n      try {\n        setCartItems(JSON.parse(savedCartItems));\n      } catch {\n        localStorage.removeItem('cartItems');\n      }\n    }\n  }, []);\n\n  return (\n    <CartContext.Provider\n      value={{\n        cartItems, setCartItems, totalSum, totalQuantity,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n","import React, { useEffect, useState, createContext } from 'react';\nimport { Product } from '../types/Product';\n\ntype FavouriteContextType = {\n  favourites: Product[],\n  setFavourites: (favourites: Product[]) => void,\n};\n\nexport const FavouriteContext = createContext<FavouriteContextType>({\n  favourites: [],\n  setFavourites: () => {},\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const FavouriteProvider: React.FC<Props> = ({ children }) => {\n  const [favourites, setFavourites] = useState<Product[]>([]);\n\n  useEffect(() => {\n    const savedFavourites = localStorage.getItem('favourites');\n\n    if (savedFavourites) {\n      try {\n        setFavourites(JSON.parse(savedFavourites));\n      } catch {\n        localStorage.removeItem('favourites');\n      }\n    }\n  }, []);\n\n  return (\n    <FavouriteContext.Provider\n      value={{ favourites, setFavourites }}\n    >\n      {children}\n    </FavouriteContext.Provider>\n  );\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null;\n};\n\nexport const getSearchWith = (\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n) => {\n  const newParams = new URLSearchParams(currentParams.toString());\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n};\n","import {\n  ChangeEvent, useCallback, useEffect, useMemo, useState,\n} from 'react';\nimport cn from 'classnames';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { debounceQuery } from '../../helpers/debounceQuery';\nimport { getSearchWith } from '../../helpers/getSearchWith';\nimport './Search.scss';\n\nexport const Search = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParams = searchParams.get('query') || '';\n  const [query, setQuery] = useState('');\n\n  const location = useLocation();\n  const currentPath = useMemo(() => {\n    return location.pathname.split('/')[1];\n  }, [location]);\n\n  useEffect(() => {\n    setQuery(queryParams);\n  }, [currentPath]);\n\n  const applyQuery = useCallback(\n    debounceQuery(setSearchParams, 600),\n    [currentPath],\n  );\n\n  const onQueryChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setQuery(value);\n\n    const params = {\n      query: value.trim() || null,\n    };\n\n    applyQuery(getSearchWith(searchParams, params));\n  };\n\n  const onClearQuery = () => {\n    setQuery('');\n\n    setSearchParams(getSearchWith(searchParams, { query: null }));\n  };\n\n  return (\n    <div className=\"Search\">\n      <input\n        type=\"text\"\n        className={cn('Search__input', { 'has-icon': !query })}\n        placeholder={`Search in ${currentPath}...`}\n        value={query}\n        onChange={onQueryChange}\n      />\n      <button\n        type=\"button\"\n        className={cn('Search__clear-button', { isActive: query !== '' })}\n        aria-label=\"clear-search\"\n        onClick={onClearQuery}\n        data-cy=\"searchDelete\"\n      />\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const debounceQuery = (\n  callBack: (...args: any[]) => void,\n  delay: number,\n) => {\n  let timerId = 0;\n\n  return (...args: any[]) => {\n    window.clearTimeout(timerId);\n\n    timerId = window.setTimeout(() => {\n      callBack(...args);\n    }, delay);\n  };\n};\n","import { Location } from 'react-router-dom';\n\nexport const isSearchVisible = (location: Location) => {\n  const crumbs = location.pathname.split('/');\n\n  const visiblePages = ['phones', 'tablets', 'accessories', 'favourites'];\n\n  if (crumbs.length > 2) {\n    return false;\n  }\n\n  return visiblePages.some(page => crumbs.includes(page));\n};\n","import { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { NavLinkMain } from '../NavLinkMain/NavLink';\nimport { NavBar } from '../Navbar/NavBar';\nimport './Header.scss';\nimport { CartContext } from '../../context/CartContext';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport { Search } from '../Search/Search';\nimport { isSearchVisible } from '../../helpers/isSearchVisible';\n\nexport const Header = () => {\n  const { totalQuantity } = useContext(CartContext);\n  const { favourites } = useContext(FavouriteContext);\n  const isCartOpened = useLocation().pathname === '/cart';\n\n  return (\n    <header className=\"Header\">\n      <div className=\"Header__navigation\">\n        <NavBar isCartOpened={isCartOpened} />\n      </div>\n\n      <div className=\"Header__actions\">\n        {isSearchVisible(useLocation()) && (<Search />)}\n\n        {!isCartOpened && (\n          <NavLinkMain\n            type=\"favourite\"\n            to=\"favourites\"\n          >\n            <img\n              src=\"icons/favourites.svg\"\n              alt=\"favourites\"\n            />\n            {favourites.length > 0 && (\n              <span\n                className=\"Counter\"\n              >\n                {favourites.length}\n              </span>\n            )}\n          </NavLinkMain>\n        )}\n\n        <NavLinkMain\n          type=\"cart\"\n          to=\"cart\"\n        >\n          <img\n            src=\"icons/cart.svg\"\n            alt=\"favourites\"\n          />\n          {totalQuantity > 0 && (\n            <span\n              className=\"Counter\"\n            >\n              {totalQuantity}\n            </span>\n          )}\n        </NavLinkMain>\n      </div>\n    </header>\n  );\n};\n","import { Outlet } from 'react-router-dom';\nimport './App.scss';\n\nimport { Footer } from './components/Footer/Footer';\nimport { Header } from './components/Header/Header';\n\nconst App = () => {\n  return (\n    <div className=\"App container\">\n      <Header />\n\n      <div className=\"container container--main App__content\">\n        <Outlet />\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","type Product = {\n  price: number,\n  discount: number\n};\n\nexport const calculateDiscount = (product: Product) => {\n  const { price, discount } = product;\n\n  return price - ((price / 100) * discount);\n};\n","export function makeCharFormated(char: string) {\n  const numericPart = char.match(/\\d+/);\n  const unitPart = char.match(/[A-Za-z]+/);\n\n  if (numericPart && unitPart) {\n    return `${numericPart[0]} ${unitPart[0]}`;\n  }\n\n  return char;\n}\n","import { Link } from 'react-router-dom';\nimport React, { useContext, useMemo } from 'react';\nimport { Product } from '../../types/Product';\nimport './ProductCard.scss';\nimport { calculateDiscount } from '../../helpers/calculateDiscount';\nimport { Button } from '../Button/Button';\nimport { makeCharFormated } from '../../helpers/makeCharacteristicFormated';\nimport { CartContext } from '../../context/CartContext';\nimport { FavouriteContext } from '../../context/FavouriteContext';\n\ntype Props = {\n  product: Product,\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    // age,\n    id,\n    type,\n    imageUrl,\n    name,\n    // snippet,\n    price,\n    discount,\n    screen,\n    capacity,\n    ram,\n  } = product;\n  const { cartItems, setCartItems } = useContext(CartContext);\n  const { favourites, setFavourites } = useContext(FavouriteContext);\n  const isItemInCart = cartItems.some(item => item.id === id);\n  const isItemInFavourites = useMemo(() => {\n    return favourites.some(item => item.id === id);\n  }, [favourites]);\n\n  const productPath = `/${type}s/${id}`;\n\n  const priceWithDiscount = useMemo(() => {\n    return calculateDiscount(product);\n  }, []);\n\n  const handleAddToCart = () => {\n    if (!product) {\n      return;\n    }\n\n    if (!isItemInCart) {\n      const newCartItems = [...cartItems, { id, quantity: 1, product }];\n\n      setCartItems(newCartItems);\n      localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n    } else {\n      const newCartItems = [...cartItems].filter(item => item.id !== id);\n\n      setCartItems(newCartItems);\n      localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n    }\n  };\n\n  const handleToFavourite = () => {\n    if (!product) {\n      return;\n    }\n\n    if (!isItemInFavourites) {\n      const newFavourites = [...favourites, product];\n\n      setFavourites(newFavourites);\n      localStorage.setItem('favourites', JSON.stringify(newFavourites));\n    } else {\n      const newFavourites = [...favourites].filter(item => item.id !== id);\n\n      setFavourites(newFavourites);\n      localStorage.setItem('favourites', JSON.stringify(newFavourites));\n    }\n  };\n\n  return (\n    <div className=\"ProductCard\" data-cy=\"cardsContainer\">\n      <div className=\"ProductCard__image-container\">\n        <Link to={productPath}>\n          <img\n            className=\"ProductCard__image\"\n            src={imageUrl}\n            alt={name}\n          />\n        </Link>\n      </div>\n\n      <div className=\"ProductCard__title\">\n        <Link to={productPath}>\n          {name}\n        </Link>\n      </div>\n\n      <div className=\"ProductCard__price\">\n        <h2 className=\"ProductCard__price-main\">\n          {`$${priceWithDiscount}`}\n        </h2>\n\n        {!!discount && (\n          <p className=\"ProductCard__price-discount\">\n            {`$${price}`}\n          </p>\n        )}\n      </div>\n\n      <div className=\"ProductCard__characters\">\n        <div className=\"ProductCard__characters__row\">\n          <p className=\"ProductCard__characters__row--key\">\n            Screen\n          </p>\n          <p className=\"ProductCard__characters__row--value\">\n            {makeCharFormated(screen) || '-'}\n          </p>\n        </div>\n\n        <div className=\"ProductCard__characters__row\">\n          <p className=\"ProductCard__characters__row--key\">\n            Capacity\n          </p>\n          <p className=\"ProductCard__characters__row--value\">\n            {makeCharFormated(capacity) || '-'}\n          </p>\n        </div>\n\n        <div className=\"ProductCard__characters__row\">\n          <p className=\"ProductCard__characters__row--key\">\n            RAM\n          </p>\n          <p className=\"ProductCard__characters__row--value\">\n            {makeCharFormated(ram) || '-'}\n          </p>\n        </div>\n      </div>\n\n      <div className=\"ProductCard__buttons\">\n        <Button\n          variant=\"cart\"\n          card={isItemInCart ? 'added' : undefined}\n          onClick={handleAddToCart}\n          data-cy=\"addToFavorite\"\n        >\n          {isItemInCart\n            ? 'Added to cart'\n            : 'Add to cart'}\n        </Button>\n\n        <Button\n          variant=\"favourite\"\n          favourite={isItemInFavourites ? 'added' : undefined}\n          onClick={handleToFavourite}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo, useState } from 'react';\nimport { Button } from '../Button/Button';\nimport './ProductSlider.scss';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\n\ninterface Props {\n  products: Product[];\n  title?: string;\n}\n\nexport const ProductSlider: React.FC<Props> = ({ products, title }) => {\n  const itemsWidth = 272;\n  const gap = 16;\n\n  const carouselWidth = useMemo(() => {\n    return products.length * itemsWidth + (products.length - 1) * gap;\n  }, []);\n\n  const [itemsScrolled, setItemScrolled] = useState(0);\n\n  const scrolledWidth = useMemo(() => {\n    return itemsScrolled * itemsWidth + itemsScrolled * gap;\n  }, [itemsScrolled]);\n\n  const slide = `translate(-${scrolledWidth}px, 0)`;\n\n  const handeSlideLeft = () => {\n    setItemScrolled(itemsScrolled - 4);\n  };\n\n  const handeSlideRight = () => {\n    setItemScrolled(itemsScrolled + 4);\n  };\n\n  return (\n    <div className=\"ProductSlider\">\n      <div className=\"ProductSlider__header\">\n        <h2 className=\"ProductSlider__title\">{title}</h2>\n\n        <div className=\"ProductSlider__buttons\">\n          <Button\n            variant=\"arrow\"\n            arrowDirection=\"left\"\n            disabled={itemsScrolled === 0}\n            aria-label=\"swipe phones left\"\n            onClick={handeSlideLeft}\n          />\n\n          <Button\n            variant=\"arrow\"\n            disabled={itemsScrolled >= products.length - 4}\n            aria-label=\"swipe phones right\"\n            onClick={handeSlideRight}\n          />\n        </div>\n      </div>\n\n      <div className=\"ProductSlider__content\">\n        <ul\n          className=\"ProductSlider__content-list\"\n          style={{\n            width: carouselWidth,\n            transform: slide,\n          }}\n        >\n          {products.map(product => (\n            <li key={product.id}>\n              <ProductCard\n                product={product}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nProductSlider.defaultProps = {\n  title: '',\n};\n","export enum Category {\n  Phones = 'phone',\n  Tablets = 'tablet',\n  Accessories = 'accessory',\n}\n","import { Product } from '../types/Product';\n\nexport const getProductCount = (\n  products: Product[],\n  productType: string,\n) => {\n  return products.reduce((acc, curr) => {\n    if (curr.type !== productType) {\n      return acc;\n    }\n\n    return acc + 1;\n  }, 0);\n};\n","import { useEffect, useState } from 'react';\nimport classNames from 'classnames';\n\nimport { Link } from 'react-router-dom';\nimport { Button } from '../Button/Button';\nimport './Carousel.scss';\n\nexport const Carousel = () => {\n  const [imagesScrolled, setImagesScrolled] = useState(0);\n\n  const scrolledWidth = imagesScrolled * 100;\n  const transform = `translateX(-${scrolledWidth}%)`;\n\n  const handleSlideLeft = () => {\n    setImagesScrolled(images => {\n      if (images === 0) {\n        return 2;\n      }\n\n      return images - 1;\n    });\n  };\n\n  const handleSlideRight = () => {\n    setImagesScrolled(images => {\n      if (images === 2) {\n        return 0;\n      }\n\n      return images + 1;\n    });\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      handleSlideRight();\n    }, 5000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [imagesScrolled]);\n\n  return (\n    <div className=\"Carousel\">\n      <div className=\"Carousel__container\">\n        <Button\n          className=\"Carousel__button\"\n          variant=\"arrow\"\n          arrowDirection=\"left\"\n          aria-label=\"Previous slide\"\n          onClick={handleSlideLeft}\n        />\n\n        <div className=\"Carousel__image__container\">\n          <ul\n            className=\"Carousel__image__list\"\n            style={{ transform }}\n          >\n            <li>\n              <Link to=\"/phones\" className=\"Carousel__link\">\n                <img\n                  src=\"img/banners/banner-phones.png\"\n                  alt=\"Phones\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/tablets\" className=\"Carousel__link\">\n                <img\n                  src=\"img/banners/banner-tablets.png\"\n                  alt=\"Tablets\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/accessories\" className=\"Carousel__link\">\n                <img\n                  src=\"img/banners/banner-accessories.png\"\n                  alt=\"Accessories\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n          </ul>\n        </div>\n\n        <Button\n          className=\"Carousel__button\"\n          variant=\"arrow\"\n          aria-label=\"Next slide\"\n          onClick={handleSlideRight}\n        />\n      </div>\n\n      <div className=\"Carousel__badges\">\n        {[0, 1, 2].map(index => (\n          <button\n            type=\"button\"\n            key={`carousel-show-${index + 1}`}\n            aria-label={`carousel-show-${index + 1}`}\n            className={classNames(\n              'Carousel__badge',\n              { 'Carousel__badge--active': index === imagesScrolled },\n            )}\n            onClick={() => setImagesScrolled(index)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport { Product } from '../../types/Product';\n\nexport const BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/api';\n// export const BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/_new';\n\nexport const getProducts: () => Promise<Product[]> = () => {\n  return fetch(`${BASE_URL}/products.json`)\n    .then((response) => response.json());\n};\n\nexport const getProductDetails = (productId: string) => {\n  return fetch(`${BASE_URL}/products/${productId}.json`)\n    .then((response) => response.json());\n};\n","import React, { createContext, useEffect, useState } from 'react';\nimport { Product } from '../types/Product';\nimport { getProducts } from '../features/API/apiSlice';\n\ntype ProductContextType = {\n  products: Product[],\n  isLoading: boolean,\n};\n\nexport const ProductContext = createContext<ProductContextType>({\n  products: [],\n  isLoading: false,\n});\n\ntype Props = {\n  children: React.ReactNode,\n};\n\nexport const ProductProvider: React.FC<Props> = ({ children }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getProducts()\n      .then(setProducts)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <ProductContext.Provider value={{ products, isLoading }}>\n      {children}\n    </ProductContext.Provider>\n  );\n};\n","import { useContext, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Loader } from '../../components/Loader/Loader';\nimport { calculateDiscount } from '../../helpers/calculateDiscount';\nimport { ProductSlider } from '../../components/ProductSlider/ProductSlider';\nimport './HomePage.scss';\nimport { getProductCount } from '../../helpers/getProductCount';\nimport { Carousel } from '../../components/Carousel/Carousel';\nimport { ProductContext } from '../../context/ProductContext';\n\nexport const HomePage = () => {\n  const { products, isLoading } = useContext(ProductContext);\n\n  const hotPriceProducts = useMemo(() => {\n    return products\n      .filter(product => product.discount !== 0)\n      .sort((a, b) => calculateDiscount(a) - calculateDiscount(b));\n  }, [products]);\n\n  const brandNewProducts = useMemo(() => {\n    return products\n      .filter(product => !product.discount)\n      .sort((a, b) => b.price - a.price);\n  }, [products]);\n\n  const phonesCount = useMemo(() => {\n    return getProductCount(products, 'phone');\n  }, [products]);\n\n  const tabletsCount = useMemo(() => {\n    return getProductCount(products, 'tablet');\n  }, [products]);\n\n  const accessoriesCount = useMemo(() => {\n    return getProductCount(products, 'accessory');\n  }, [products]);\n\n  return (\n    <div className=\"HomePage container\">\n      {isLoading && (\n        <div className=\"HomePage__loader\">\n          <Loader />\n        </div>\n      )}\n\n      {!isLoading && (\n        <>\n          <h1 className=\"HomePage__carousel-container section\">\n            <Carousel />\n          </h1>\n\n          <section className=\"section\">\n            <ProductSlider\n              products={hotPriceProducts}\n              title=\"Hot prices\"\n            />\n          </section>\n\n          <section className=\"HomePage__shop-by-category section\">\n            <h2 className=\"section__title HomePage__shop-by-category__title\">\n              Shop by category\n            </h2>\n\n            <ul\n              className=\"HomePage__shop-by-category__container\"\n              data-cy=\"categoryLinksContainer\"\n            >\n              <li>\n                <Link\n                  to=\"/phones\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <img\n                    src=\"img/banners/category-phones.png\"\n                    alt=\"phones\"\n                  />\n                  <h3>\n                    Mobile phones\n                  </h3>\n                </Link>\n                <p>\n                  {`${phonesCount} models`}\n                </p>\n              </li>\n\n              <li>\n                <Link\n                  to=\"/tablets\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <img\n                    src=\"img/banners/category-tablets.png\"\n                    alt=\"tablets\"\n                  />\n                  <h3>\n                    Tablets\n                  </h3>\n                </Link>\n                <p>\n                  {`${tabletsCount} models`}\n                </p>\n              </li>\n\n              <li>\n                <Link\n                  to=\"/accessories\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <img\n                    src=\"img/banners/category-accessories.png\"\n                    alt=\"accessories\"\n                  />\n                  <h3>\n                    Accessories\n                  </h3>\n                </Link>\n                <p>\n                  {`${accessoriesCount} models`}\n                </p>\n              </li>\n            </ul>\n          </section>\n\n          <section className=\"section\">\n            <ProductSlider\n              products={brandNewProducts}\n              title=\"Brand new models\"\n            />\n          </section>\n        </>\n      )}\n    </div>\n  );\n};\n","export enum SortBy {\n  Age = 'age',\n  Name = 'name',\n  Price = 'price',\n}\n","export enum SearchParamsType {\n  sortBy = 'sortBy',\n  perPage = 'perPage',\n  activePage = 'page',\n  query = 'query',\n}\n","import { useSearchParams } from 'react-router-dom';\nimport './Filters.scss';\nimport { SortBy } from '../../types/SortBy';\nimport { SearchParamsType } from '../../types/SearchParamsTypes';\n\nconst perPageValues = ['4', '8', '16', 'All'];\n\nexport const Filters = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const sortBy = searchParams.get(SearchParamsType.sortBy) || SortBy.Age;\n  const perPage = searchParams.get(SearchParamsType.perPage) || 'All';\n\n  const setSortBy = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setSearchParams((prevSearchParams) => {\n      const params = new URLSearchParams(prevSearchParams);\n\n      params.set(SearchParamsType.activePage, '1');\n      params.set(SearchParamsType.sortBy, event.target.value);\n\n      return params;\n    });\n  };\n\n  const setPerPage = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setSearchParams((prevSearchParams) => {\n      const params = new URLSearchParams(prevSearchParams);\n\n      params.set(SearchParamsType.activePage, '1');\n      params.set(SearchParamsType.perPage, event.target.value);\n\n      return params;\n    });\n  };\n\n  return (\n    <div className=\"Filters\">\n      <div className=\"Filters__selection\">\n        <label\n          htmlFor=\"sortParams\"\n          className=\"Filters__selection__title\"\n        >\n          Sort by:\n        </label>\n\n        <select\n          id=\"sortParams\"\n          className=\"Filters__selection__select\"\n          value={sortBy}\n          onChange={setSortBy}\n        >\n          <option value={SortBy.Age}>Newest</option>\n          <option value={SortBy.Name}>Alphabetically</option>\n          <option value={SortBy.Price}>Cheapest</option>\n        </select>\n      </div>\n\n      <div className=\"Filters__selection\">\n        <label\n          htmlFor=\"itemsOnPage\"\n          className=\"Filters__selection__title\"\n        >\n          Items on page\n        </label>\n\n        <select\n          id=\"itemsOnPage\"\n          className=\"Filters__selection__select\"\n          value={perPage}\n          onChange={setPerPage}\n        >\n          {perPageValues.map(value => (\n            <option key={value} value={value}>\n              {value}\n            </option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport './Pagination.scss';\nimport { Button } from '../Button/Button';\nimport { SearchParamsType } from '../../types/SearchParamsTypes';\n\ntype Props = {\n  totalItems: number;\n  perPage: number;\n};\n\nfunction getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n\nexport const Pagination: React.FC<Props> = ({\n  totalItems,\n  perPage,\n}) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const currentPage = Number(\n    searchParams.get(SearchParamsType.activePage),\n  ) || 1;\n\n  const pageCount = useMemo(\n    () => getNumbers(1, (Math.ceil(totalItems / perPage) || 1)),\n    [totalItems, perPage],\n  );\n\n  const setParam = (name: string, value: string) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set(name, value);\n    setSearchParams(params);\n  };\n\n  const prevPageHandler = () => (\n    currentPage !== 1\n    && setParam(SearchParamsType.activePage, String(currentPage - 1))\n  );\n\n  const nextPageHandler = () => (\n    currentPage !== pageCount.length\n    && setParam(SearchParamsType.activePage, String(currentPage + 1))\n  );\n\n  const setPageHandler = (page: number) => (\n    setParam(SearchParamsType.activePage, String(page))\n  );\n\n  return (\n    <ul className=\"Pagination\" data-cy=\"pagination\">\n      <li className=\"Pagination__arrow\">\n        <Button\n          variant=\"arrow\"\n          arrowDirection=\"left\"\n          disabled={currentPage === 1}\n          onClick={prevPageHandler}\n          data-cy=\"paginationLeft\"\n        />\n      </li>\n\n      {pageCount.map(page => (\n        <li\n          key={page}\n          className=\"Pagination__item\"\n        >\n          <Button\n            variant=\"number\"\n            className={cn({ active: currentPage === page })}\n            onClick={() => setPageHandler(page)}\n          >\n            {page}\n          </Button>\n        </li>\n      ))}\n\n      <li className=\"Pagination__arrow\">\n        <Button\n          variant=\"arrow\"\n          disabled={currentPage === pageCount.length}\n          onClick={nextPageHandler}\n          data-cy=\"paginationRight\"\n        />\n      </li>\n    </ul>\n  );\n};\n","export const normalizeValue = (value: string) => {\n  return value.trim().toLowerCase();\n};\n","import './NoSearchResult.scss';\n\nexport const NoSearchResult = () => {\n  return (\n    <h1 className=\"NoSearchResult\">\n      Sorry, we can not find your product\n    </h1>\n  );\n};\n","/* eslint-disable react/require-default-props */\nimport React, { useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductList.scss';\nimport { Filters } from '../Filters/Filters';\nimport { SortBy } from '../../types/SortBy';\nimport { Pagination } from '../Pagination/Pagination';\nimport { SearchParamsType } from '../../types/SearchParamsTypes';\nimport { normalizeValue } from '../../helpers/normalizeValue';\nimport { NoSearchResult } from '../NoSearchResult/NoSearchResult';\n\ninterface Props {\n  products: Product[];\n  isfilterVisible?: boolean;\n  isPaginationVisible?: boolean;\n}\n\nconst ProductList: React.FC<Props> = ({\n  products,\n  isfilterVisible = true,\n  isPaginationVisible = true,\n}) => {\n  const [searchParams] = useSearchParams();\n\n  const sortBy = searchParams.get(SearchParamsType.sortBy) || SortBy.Age;\n  const perPage = searchParams.get(SearchParamsType.perPage) || 'All';\n  const currentPage = Number(searchParams.get(\n    SearchParamsType.activePage,\n  )) || 1;\n  const query = searchParams.get(SearchParamsType.query) || '';\n\n  const getNumberOfPerPage = (numberOfPage: string) => {\n    return numberOfPage === 'All' ? products.length : Number(numberOfPage);\n  };\n\n  const startIndex\n    = getNumberOfPerPage(perPage) * currentPage - getNumberOfPerPage(perPage);\n  const endIndex = startIndex + getNumberOfPerPage(perPage);\n\n  const filteredProducts = query === ''\n    ? products\n    : products.filter(product => (\n      normalizeValue(product.name).includes(normalizeValue(query))\n    ));\n\n  const visibleProducts = useMemo(() => {\n    return filteredProducts\n      .sort((a: Product, b: Product) => {\n        switch (sortBy) {\n          case SortBy.Age:\n            return b.age - a.age;\n          case SortBy.Name:\n            return a.name.localeCompare(b.name);\n          case SortBy.Price:\n            return a.price - b.price;\n          default:\n            return 0;\n        }\n      })\n      .slice(startIndex, endIndex);\n  }, [filteredProducts, sortBy, startIndex, endIndex]);\n\n  const totalItems = filteredProducts.length;\n\n  return (\n    <>\n      {isfilterVisible && visibleProducts.length !== 0 && <Filters />}\n\n      {visibleProducts.length === 0\n        ? (<NoSearchResult />)\n        : (\n          <div className=\"ProductList\">\n            {visibleProducts.map(product => (\n              <ProductCard key={product.id} product={product} />\n            ))}\n          </div>\n        )}\n\n      {isPaginationVisible && visibleProducts.length !== 0 && (\n        <Pagination\n          totalItems={totalItems}\n          perPage={Number(perPage)}\n        />\n      )}\n\n    </>\n  );\n};\n\nexport default ProductList;\n","import { useLocation, Link } from 'react-router-dom';\nimport './Breadcrumb.scss';\n\nexport const Breadcrumb = () => {\n  const location = useLocation();\n  const crumbs = location.pathname.split('/').slice(1);\n  let currentPath = '';\n\n  return (\n    <div className=\"BreadCrumb\" data-cy=\"breadCrumbs\">\n      <Link to=\"/\" className=\"BreadCrumb__home-icon\">\n        <img\n          src=\"icons/home.svg\"\n          alt=\"favourites\"\n        />\n      </Link>\n\n      {crumbs.map((crumb, index) => {\n        const isLast = index === crumbs.length - 1;\n\n        currentPath += `/${crumb}`;\n\n        return (\n          <div className=\"BreadCrumb__crumb\" key={crumb}>\n            {!isLast\n              ? <Link to={currentPath}>{crumb}</Link>\n              : <span>{crumb}</span>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ProductContext } from '../../context/ProductContext';\nimport { Category } from '../../types/Categoty';\nimport { Loader } from '../../components/Loader/Loader';\nimport ProductList from '../../components/ProductList/ProductList';\nimport { Breadcrumb } from '../../components/Breadcrumb/Breadcrumb';\nimport './PhonesPage.scss';\n\nexport const PhonesPage = () => {\n  const { isLoading, products } = useContext(ProductContext);\n\n  const phones = products\n    .filter(product => product.type === Category.Phones);\n\n  return (\n    <div className=\"PhonePage container section\">\n      <div className=\"PhonePage__breadcrumb\">\n        <Breadcrumb />\n      </div>\n\n      {!isLoading && !phones.length && (\n        <h1 className=\"PhonePage__title\">\n          Mobile phones not found\n        </h1>\n      )}\n\n      {isLoading && <Loader />}\n\n      {!isLoading && !!phones.length && (\n        <>\n          <h1 className=\"PhonePage__title\">\n            Mobile phones\n          </h1>\n\n          <h1 className=\"PhonePage__count-of-models\">\n            {`${phones.length} models`}\n          </h1>\n\n          <ProductList\n            products={phones}\n            data-cy=\"productList\"\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ProductContext } from '../../context/ProductContext';\nimport { Category } from '../../types/Categoty';\nimport { Loader } from '../../components/Loader/Loader';\nimport ProductList from '../../components/ProductList/ProductList';\nimport { Breadcrumb } from '../../components/Breadcrumb/Breadcrumb';\nimport '../PhonePage/PhonesPage.scss';\n\nexport const TabletsPage = () => {\n  const { isLoading, products } = useContext(ProductContext);\n\n  const tablets = products\n    .filter(product => product.type === Category.Tablets);\n\n  return (\n    <div className=\"PhonePage container section\">\n      <div className=\"PhonePage__breadcrumb\">\n        <Breadcrumb />\n      </div>\n\n      {!isLoading && !tablets.length && (\n        <h1 className=\"PhonePage__title\">\n          Tablets not found\n        </h1>\n      )}\n\n      {isLoading && <Loader />}\n\n      {!isLoading && !!tablets.length && (\n        <>\n          <h1 className=\"PhonePage__title\">\n            Tablets\n          </h1>\n\n          <h1 className=\"PhonePage__count-of-models\">\n            {`${tablets.length} models`}\n          </h1>\n\n          <ProductList\n            products={tablets}\n            data-cy=\"productList\"\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ProductContext } from '../../context/ProductContext';\nimport { Category } from '../../types/Categoty';\nimport { Loader } from '../../components/Loader/Loader';\nimport ProductList from '../../components/ProductList/ProductList';\nimport { Breadcrumb } from '../../components/Breadcrumb/Breadcrumb';\nimport '../PhonePage/PhonesPage.scss';\n\nexport const AccessoriesPage = () => {\n  const { isLoading, products } = useContext(ProductContext);\n\n  const accessories = products\n    .filter(product => product.type === Category.Accessories);\n\n  return (\n    <div className=\"PhonePage container section\">\n      <div className=\"PhonePage__breadcrumb\">\n        <Breadcrumb />\n      </div>\n\n      {!isLoading && !accessories.length && (\n        <h1 className=\"PhonePage__title\">\n          Accessories not found\n        </h1>\n      )}\n\n      {isLoading && <Loader />}\n\n      {!isLoading && !!accessories.length && (\n        <>\n          <h1 className=\"PhonePage__title\">\n            Accessories\n          </h1>\n\n          <h1 className=\"PhonePage__count-of-models\">\n            {`${accessories.length} models`}\n          </h1>\n\n          <ProductList\n            products={accessories}\n            data-cy=\"productList\"\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { useNavigate } from 'react-router-dom';\nimport './BackButton.scss';\n\nexport const BackButton = () => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      type=\"button\"\n      data-cy=\"backButton\"\n      className=\"BackButton\"\n      onClick={() => navigate(-1)}\n    >\n      Back\n    </button>\n  );\n};\n","import {\n  useContext, useEffect, useMemo, useState,\n} from 'react';\nimport { useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport './ProductDetailPage.scss';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { Breadcrumb } from '../../components/Breadcrumb/Breadcrumb';\nimport { ProductContext } from '../../context/ProductContext';\nimport { getProductDetails } from '../../features/API/apiSlice';\nimport { Loader } from '../../components/Loader/Loader';\nimport { ProductSlider } from '../../components/ProductSlider/ProductSlider';\nimport { Product } from '../../types/Product';\nimport { ProductDetails } from '../../types/ProductDetails';\nimport { calculateDiscount } from '../../helpers/calculateDiscount';\nimport { Button } from '../../components/Button/Button';\nimport { CartContext } from '../../context/CartContext';\nimport { FavouriteContext } from '../../context/FavouriteContext';\n\nexport const ProductDetailPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const { products } = useContext(ProductContext);\n  const { cartItems, setCartItems } = useContext(CartContext);\n  const { favourites, setFavourites } = useContext(FavouriteContext);\n  const { productId } = useParams();\n  const product = products.find(item => item.id === productId);\n  const [productDetails, setProductDetails] = useState<ProductDetails>(Object);\n  const [activeImage, setActiveImage] = useState(0);\n  const hasProductDetails = !!Object.values(productDetails).length && product;\n  const isItemInFavourites = useMemo(() => {\n    return product && favourites.some(item => item.id === product.id);\n  }, [favourites]);\n\n  const {\n    name,\n    images,\n    display,\n    storage,\n    description,\n    connectivity,\n    camera,\n    android,\n  } = productDetails;\n\n  const isItemInCart = product && cartItems.some(\n    item => item.id === product.id,\n  );\n\n  const getSuggestedProducts = (count: number) => {\n    const generateIndex = () => Math.floor(Math.random() * products.length);\n    const result: Product[] = [];\n\n    for (let i = 0; i < count; i += 1) {\n      let index = generateIndex();\n\n      while (result.includes(products[index])) {\n        index = generateIndex();\n      }\n\n      result.push(products[index]);\n    }\n\n    return result;\n  };\n\n  const handleAddToCart = () => {\n    if (!product) {\n      return;\n    }\n\n    const newCartItem = [\n      ...cartItems,\n      { id: product.id, quantity: 1, product },\n    ];\n\n    setCartItems(newCartItem);\n    localStorage.setItem('cartItems', JSON.stringify(newCartItem));\n  };\n\n  const handleToFavourite = () => {\n    if (!product) {\n      return;\n    }\n\n    if (!isItemInFavourites) {\n      const newFavourites = [...favourites, product];\n\n      setFavourites(newFavourites);\n      localStorage.setItem('favourites', JSON.stringify(newFavourites));\n    } else {\n      const newFavourites = [...favourites].filter(\n        item => item.id !== product.id,\n      );\n\n      setFavourites(newFavourites);\n      localStorage.setItem('favourites', JSON.stringify(newFavourites));\n    }\n  };\n\n  useEffect(() => {\n    if (!productId) {\n      return;\n    }\n\n    setIsLoading(true);\n    getProductDetails(productId)\n      .then(data => {\n        setProductDetails(data);\n        setHasError(false);\n      })\n      .catch(() => setHasError(true))\n      .finally(() => setIsLoading(false));\n  }, [productId]);\n\n  const priceWithDiscount = useMemo(() => {\n    if (product) {\n      return calculateDiscount(product);\n    }\n\n    return 0;\n  }, [product]);\n\n  return (\n    <div className=\"ProductDetailPage section\">\n      {isLoading && (<Loader />)}\n\n      {!isLoading && hasError && !hasProductDetails && (\n        <h1 className=\"ProductDetailPage__error\">\n          Product was not found\n        </h1>\n      )}\n\n      {!isLoading && !hasError && hasProductDetails && (\n        <>\n          <div className=\"ProductDetailPage__breadcrumb\">\n            <Breadcrumb />\n          </div>\n\n          <div className=\"ProductDetailPage__backButton\">\n            <BackButton />\n          </div>\n\n          <h1 className=\"ProductDetailPage__name\">\n            {name}\n          </h1>\n\n          <div className=\"ProductDetailPage__details\">\n            <div className=\"ProductDetailPage__images\">\n              <div className=\"ProductDetailPage__images--small-images\">\n                {images.map((url, index) => (\n                  <button\n                    type=\"button\"\n                    key={url}\n                    className={cn(\n                      'ProductDetailPage__images--small-images--wrapper',\n                      // eslint-disable-next-line max-len\n                      { 'ProductDetailPage__images--small-images--wrapper--active': index === activeImage },\n                    )}\n                    onClick={() => setActiveImage(index)}\n                  >\n                    <img\n                      src={url}\n                      alt={name}\n                      className=\"ProductDetailPage__images--small-images--image\"\n                    />\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"ProductDetailPage__images--big-image-wrapper\">\n                <img\n                  src={images[activeImage]}\n                  alt={name}\n                  className=\"ProductDetailPage__images--big-image\"\n                />\n              </div>\n            </div>\n\n            <div className=\"ProductDetailPage__info\">\n              <div className=\"ProductDetailPage__info--price\">\n                <h1 className=\"ProductDetailPage__info--price--discount\">\n                  {`$${priceWithDiscount}`}\n                </h1>\n\n                {!!product.discount && (\n                  <p className=\"ProductDetailPage__info--price--full-prize\">\n                    {`$${product.price}`}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"ProductDetailPage__info--buttons\">\n                <Button\n                  variant=\"cart\"\n                  card={isItemInCart ? 'added' : undefined}\n                  className=\"ProductDetailPage__info--buttons--cart\"\n                  onClick={handleAddToCart}\n                >\n                  {isItemInCart\n                    ? 'Added to cart'\n                    : 'Add to cart'}\n                </Button>\n\n                <Button\n                  variant=\"favourite\"\n                  favourite={isItemInFavourites ? 'added' : undefined}\n                  className=\"ProductDetailPage__info--buttons--favourite\"\n                  onClick={handleToFavourite}\n                  data-cy=\"addToFavorite\"\n                />\n              </div>\n\n              <div className=\"ProductDetailPage__info--specs-small Characters\">\n                <div className=\"Characters__row\">\n                  <p className=\"Characters__row--key\">\n                    Resolution\n                  </p>\n                  <p className=\"Characters__row--value\">\n                    {display.screenResolution || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Characters__row\">\n                  <p className=\"Characters__row--key\">\n                    Screen size\n                  </p>\n                  <p className=\"Characters__row--value\">\n                    {display.screenSize || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Characters__row\">\n                  <p className=\"Characters__row--key\">\n                    Capacity\n                  </p>\n                  <p className=\"Characters__row--value\">\n                    {storage.flash || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Characters__row\">\n                  <p className=\"Characters__row--key\">\n                    RAM\n                  </p>\n                  <p className=\"Characters__row--value\">\n                    {storage.ram || '-'}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div\n              className=\"ProductDetailPage__about\"\n              data-cy=\"productDescription\"\n            >\n              <h2 className=\"ProductDetailPage__about--title\">\n                About\n              </h2>\n\n              <p className=\"ProductDetailPage__about--description\">\n                {description}\n              </p>\n            </div>\n\n            <div className=\"ProductDetailPage__tech-specs\">\n              <h2 className=\"ProductDetailPage__tech-specs--title\">\n                Tech specs\n              </h2>\n\n              <div\n                className=\"ProductDetailPage__tech-specs--char Tech-specs\"\n              >\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Screen size\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {display.screenSize || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Resolution\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {display.screenResolution || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Bluetooth\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {connectivity.bluetooth || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Camera\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {camera.primary || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Camera features\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {camera.features.join(' + ') || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    Capacity\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {storage.flash || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    RAM\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {storage.ram || '-'}\n                  </p>\n                </div>\n\n                <div className=\"Tech-specs__row\">\n                  <p className=\"Tech-specs__row--key\">\n                    OS\n                  </p>\n                  <p className=\"Tech-specs__row--value\">\n                    {android.os || '-'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      <div className=\"ProductDetailPage__suggested\">\n        <ProductSlider\n          products={getSuggestedProducts(10)}\n          title=\"You may also like\"\n        />\n      </div>\n    </div>\n  );\n};\n","import { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport './CartPage.scss';\nimport { CartContext } from '../../context/CartContext';\nimport { Button } from '../../components/Button/Button';\n\nexport const CartPage = () => {\n  const MAX_QUANTITY = 10;\n  const MIN_QUANTITY = 1;\n  // const productPath = `/${type}s/${id}`;\n\n  const {\n    cartItems,\n    setCartItems,\n    totalSum,\n    totalQuantity,\n  } = useContext(CartContext);\n\n  const changeQuantity = (\n    index: number,\n    action: 'increase' | 'decrease',\n  ) => {\n    const cartItem = cartItems[index];\n\n    const newCartItems = [...cartItems];\n\n    newCartItems.splice(index, 1, {\n      ...cartItem,\n      quantity: action === 'increase'\n        ? cartItem.quantity + 1\n        : cartItem.quantity - 1,\n    });\n\n    setCartItems(newCartItems);\n    localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n  };\n\n  const deleteItem = (index: number) => {\n    const newCartItems = [...cartItems];\n\n    newCartItems.splice(index, 1);\n    setCartItems(newCartItems);\n    localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n  };\n\n  const [isCheckoutClicked, setIsCheckoutClicked] = useState(false);\n  const handleCheckoutClick = () => {\n    setIsCheckoutClicked(true);\n\n    // setTimeout(() => {\n    //   setIsCheckoutClicked(false);\n    // }, 3000);\n  };\n\n  return (\n    <div className=\"CartPage section\">\n      <div className=\"CartPage__backButton\">\n        <BackButton />\n      </div>\n\n      <h1 className=\"CartPage__title\">Cart</h1>\n\n      {cartItems.length === 0 && (\n        <h2 className=\"CartPage__title\">\n          Your cart is empty\n        </h2>\n      )}\n\n      {cartItems.length > 0 && (\n        <div className=\"CartPage__content\">\n          <ul className=\"CartPage__content--list\">\n            {cartItems.map((item, index) => (\n              <li key={item.id}>\n                <div className=\"CartPage__content--list--item List-item\">\n                  <div className=\"List-item__left-side\">\n                    <button\n                      type=\"button\"\n                      className=\"List-item__delete-button\"\n                      onClick={() => deleteItem(index)}\n                      data-cy=\"cartDeleteButton\"\n                    >\n                      <img\n                        src=\"icons/close.svg\"\n                        alt=\"delete item\"\n                      />\n\n                    </button>\n\n                    <Link\n                      to={`/${item.product.type}s/${item.product.id}`}\n                      className=\"List-item__image\"\n                    >\n                      <img\n                        src={item.product.imageUrl}\n                        alt={item.product.name}\n                      />\n                    </Link>\n\n                    <Link\n                      to={`/${item.product.type}s/${item.product.id}`}\n                      className=\"List-item__title\"\n                    >\n                      {item.product.name}\n                    </Link>\n                  </div>\n\n                  <div className=\"List-item__right-side\">\n                    <div className=\"List-item__quantity\">\n                      <Button\n                        variant=\"minus\"\n                        disabled={item.quantity === MIN_QUANTITY}\n                        className=\"List-item__quantity--button\"\n                        onClick={() => changeQuantity(index, 'decrease')}\n                      />\n\n                      {item.quantity}\n\n                      <Button\n                        variant=\"plus\"\n                        disabled={item.quantity === MAX_QUANTITY}\n                        className=\"List-item__quantity--button\"\n                        onClick={() => changeQuantity(index, 'increase')}\n                      />\n                    </div>\n\n                    <h2 className=\"List-item__price\">\n                      {`$${item.product.price * item.quantity}`}\n                    </h2>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n\n          <div className=\"CartPage__content--sum Total-block\">\n            <h1>\n              {`$${totalSum}`}\n            </h1>\n\n            <p\n              className=\"Total-block__total\"\n              data-cy=\"productQauntity\"\n            >\n              {totalQuantity === 1\n                ? `Total for ${totalQuantity} item`\n                : `Total for ${totalQuantity} items`}\n            </p>\n\n            <Button\n              variant=\"cart\"\n              className=\"Total-block__button\"\n              onClick={handleCheckoutClick}\n            >\n              Checkout\n            </Button>\n\n            <p\n              className={cn(\n                'Total-block__error',\n                { 'Total-block__error--visible': isCheckoutClicked },\n              )}\n            >\n              We are sorry, but this feature is not implemented yet\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { Breadcrumb } from '../../components/Breadcrumb/Breadcrumb';\nimport './FavouritesPage.scss';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport ProductList from '../../components/ProductList/ProductList';\n\nexport const FavouritePage = () => {\n  const { favourites } = useContext(FavouriteContext);\n\n  return (\n    <div className=\"FavouritesPage section\">\n      <div className=\"FavouritesPage__breadcrumb\">\n        <Breadcrumb />\n      </div>\n\n      <h1 className=\"FavouritesPage__title\">\n        Favourites\n      </h1>\n\n      <p\n        className=\"FavouritesPage__counter\"\n      >\n        {favourites.length === 1\n          ? `${favourites.length} item`\n          : `${favourites.length} items`}\n      </p>\n\n      <div className=\"FavouritesPage__list\">\n        <ProductList\n          products={favourites}\n          isfilterVisible={false}\n          isPaginationVisible={false}\n        />\n      </div>\n    </div>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport { Button } from '../../components/Button/Button';\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage = () => {\n  return (\n    <div className=\"NotFoundPage section\">\n      <h1 className=\"NotFoundPage__title\">\n        Page not found\n      </h1>\n      <img\n        src=\"./notFoundPage.webp\"\n        alt=\"Sad cat\"\n        className=\"NotFoundPage__image\"\n      />\n      <NavLink to=\"/\">\n        <Button\n          variant=\"cart\"\n          className=\"NotFoundPage__button\"\n        >\n          Home Page\n        </Button>\n      </NavLink>\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport {\n  HashRouter as Router,\n  Route,\n  Routes,\n  Navigate,\n} from 'react-router-dom';\nimport App from '../App';\nimport { HomePage } from '../pages/HomePage/HomePage';\nimport { PhonesPage } from '../pages/PhonePage/PhonesPage';\nimport { ProductProvider } from '../context/ProductContext';\nimport { TabletsPage } from '../pages/TabletsPage/TabletsPage';\nimport { AccessoriesPage } from '../pages/AccessoriesPage/AccessoriesPage';\nimport { ProductDetailPage } from '../pages/ProductDetailPage/ProductDetailPage';\nimport { CartProvider } from '../context/CartContext';\nimport { CartPage } from '../pages/CartPage/CartPage';\nimport { FavouriteProvider } from '../context/FavouriteContext';\nimport { FavouritePage } from '../pages/FavouritesPage/FavouritesPage';\nimport { NotFoundPage } from '../pages/NotFoundPage/NotFoundPage';\n\nexport const Root = () => (\n  <ProductProvider>\n    <CartProvider>\n      <FavouriteProvider>\n        <Router>\n          <Routes>\n            <Route path=\"/\" element={<App />}>\n              <Route index element={<HomePage />} />\n              <Route\n                path=\"home\"\n                element={<Navigate to=\"/\" replace />}\n              />\n\n              <Route path=\"phones\">\n                <Route index element={<PhonesPage />} />\n                <Route path=\":productId\" element={<ProductDetailPage />} />\n              </Route>\n\n              <Route path=\"tablets\">\n                <Route index element={<TabletsPage />} />\n                <Route path=\":productId\" element={<ProductDetailPage />} />\n              </Route>\n\n              <Route path=\"accessories\">\n                <Route index element={<AccessoriesPage />} />\n                <Route path=\":productId\" element={<ProductDetailPage />} />\n              </Route>\n\n              <Route path=\"cart\" element={<CartPage />} />\n              <Route path=\"favourites\" element={<FavouritePage />} />\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Route>\n          </Routes>\n        </Router>\n      </FavouriteProvider>\n    </CartProvider>\n  </ProductProvider>\n);\n","import ReactDOM from 'react-dom';\n\nimport { Root } from './routes/AppRoute';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}